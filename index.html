<DOCTYPE html>
<html>
	<head>
	</head>
	<body>
		
		<div id="line">
		</div>
		
		<style>
			
			* {
				box-sizing: border-box;
			}
			
			#line {
				display: grid;
				grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
			}
			
			.pad {
				margin: 2px;
				width: 50px;
				height: 50px;
				border-radius: 4px;
				background-color: #ccc;
				cursor: pointer;
			}
			
			.pad.active {
				background-color: #6c6;
			}
			
			.pad.playing {
				border: 2px solid red;
			}
			
		</style>
		
		<script>
			
			const pads = [];
			const numberOfPads = 8;
			const bpm = 120;
			
			const line = document.getElementById('line');
			
			for (let i = 0; i < numberOfPads; i++) {
				
				const pad = document.createElement('div');
				pad.classList.add('pad');
				line.appendChild(pad);
				
				pad.addEventListener('click', (e) => {
					const pad = e.target;
					pad.classList.toggle('active');
				});
				
				pads.push(pad);
				
			}
			
			let currentPad = 0;
			
			setInterval(() => {
				pads.forEach(pad => pad.classList.remove('playing'));
				const playingPad = pads[currentPad];
				playingPad.classList.add('playing');
				currentPad = currentPad == numberOfPads - 1 ? 0 : ++currentPad;
			}, 1000 * 60 / bpm);
			
		</script>
		
	</body>
</html>